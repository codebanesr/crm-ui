<nz-table
  #dynamicTable
  [nzScroll]="{ x: scrollX, y: scrollY }"
  [nzData]="listOfData"
  [nzTableLayout]="settingValue.tableLayout"
  [nzBordered]="settingValue.bordered"
  [nzSimple]="settingValue.simple"
  [nzLoading]="settingValue.loading"
  [nzPaginationPosition]="settingValue.position"
  [nzShowSizeChanger]="settingValue.sizeChanger"
  [nzFrontPagination]="settingValue.pagination"
  [nzShowPagination]="settingValue.pagination"
  [nzFooter]="settingValue.footer ? 'Here is Footer' : null"
  [nzTitle]="settingValue.title ? 'Leads List' : null"
  [nzSize]="settingValue.size"
  (nzCurrentPageDataChange)="currentPageDataChange($event)"
>
  <thead>
    <tr *ngIf="settingValue.header">
      <th
        nzWidth="40px"
        *ngIf="settingValue.expandable"
        [nzLeft]="fixedColumn"
      ></th>
      <th
        *ngIf="settingValue.checkbox"
        nzWidth="60px"
        [(nzChecked)]="allChecked"
        [nzLeft]="fixedColumn"
        [nzIndeterminate]="indeterminate"
        (nzCheckedChange)="checkAll($event)"
      ></th>
      <th [nzLeft]="fixedColumn">
        Name
        <nz-filter-trigger
          [(nzVisible)]="visible"
          [nzActive]="searchValue.length > 0"
          [nzDropdownMenu]="menu"
        >
          <i nz-icon nzType="search"></i>
        </nz-filter-trigger>
      </th>
      <th>Age</th>
      <th>Address</th>
      <th [nzRight]="fixedColumn">Action</th>
    </tr>
  </thead>
  <tbody>
    <ng-container *ngFor="let data of dynamicTable.data">
      <tr>
        <td
          [nzLeft]="fixedColumn"
          *ngIf="settingValue.expandable"
          [(nzExpand)]="data.expand"
        ></td>
        <td
          [nzLeft]="fixedColumn"
          *ngIf="settingValue.checkbox"
          [(nzChecked)]="data.checked"
          (nzCheckedChange)="refreshStatus()"
        ></td>
        <td [nzLeft]="fixedColumn">{{ data.name }}</td>
        <td>{{ data.age }}</td>
        <td [nzEllipsis]="settingValue.ellipsis">{{ data.address }}</td>
        <td [nzRight]="fixedColumn" [nzEllipsis]="settingValue.ellipsis">
          <a href="#">Delete</a>
          <nz-divider nzType="vertical"></nz-divider>
          <a href="#">More action</a>
        </td>
      </tr>
      <tr *ngIf="settingValue.expandable" [nzExpand]="data.expand">
        <span> {{ data.description }}</span>
      </tr>
    </ng-container>
  </tbody>
</nz-table>

<nz-dropdown-menu #menu="nzDropdownMenu">
  <div class="ant-table-filter-dropdown">
    <div class="search-box">
      <input
        type="text"
        nz-input
        placeholder="Search name"
        [(ngModel)]="searchValue"
      />
      <button
        nz-button
        nzSize="small"
        nzType="primary"
        (click)="search()"
        class="search-button"
      >
        Search
      </button>
      <button nz-button nzSize="small" (click)="reset()">Reset</button>
    </div>
  </div>
</nz-dropdown-menu>
