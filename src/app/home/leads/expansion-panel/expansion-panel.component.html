<mat-expansion-panel (opened)="lead.panelOpenState = true" (closed)="lead.panelOpenState = false"
  *ngFor="let lead of leads; trackBy: trackLead" hideToggle>
  <mat-expansion-panel-header>
    <mat-panel-title style="width: 100%;">
      <span>{{lead?.firstName}} {{lead?.lastName}}</span>
      <span class="spacer"></span>
      <span style="font-weight: 500; color: #673ab7;">{{lead.leadStatus | titlecase}}</span>
    </mat-panel-title>
  </mat-expansion-panel-header>
  <button mat-raised-button color="primary" (click)="handleLeadEdit(lead)" class="lead-edit-btn">Edit Lead</button>
  <i nz-icon nzType="mail" nzTheme="outline" style="font-size: large;"></i> &nbsp;
  <ion-icon name="share-social-sharp" (click)="onSocialShareClick($event, lead)" style="font-size: large;">
  </ion-icon>
  
  <!-- @Todo do not show mobile numbers in show view, also prevent fetching mobile numbers -->
  <ng-container *ngFor="let key of leadKeys; trackBy: trackKeys">
    <p [ngStyle]="{'display': typeDict[key]?.value && typeDict[key].type !=='tel'? 'hidden': 'block' }">
      {{typeDict[key]?.label}} : {{typeDict[key]?.type === 'date' ? (lead[key] | date) : (lead[key])}}
    </p>
  </ng-container>
</mat-expansion-panel>